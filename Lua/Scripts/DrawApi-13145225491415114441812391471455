local DrawApi = {}

function DrawApi:DrawLine(from, to, mainColor, transparency)
    local offsets = {
        Vector2.new(0, 0),
        Vector2.new(1, 0),
        Vector2.new(-1, 0),
        Vector2.new(0, 1),
        Vector2.new(0, -1),
    }

    local borderLines = {}
    for _, offset in pairs(offsets) do
        local bLine = Drawing.new("Line")
        bLine.From = from + offset
        bLine.To = to + offset
        bLine.Color = Color3.new(0, 0, 0)
        bLine.ZIndex = 0
        bLine.Transparency = transparency or 1
        bLine.Visible = true
        table.insert(borderLines, bLine)
    end

    local mainLine = Drawing.new("Line")
    mainLine.From = from
    mainLine.To = to
    mainLine.Color = mainColor
    mainLine.Transparency = transparency or 1
    mainLine.Visible = true

    local lineObject = {
        Main = mainLine,
        Borders = borderLines,

        Move = function(self, newFrom, newTo)
            self.Main.From = newFrom
            self.Main.To = newTo
            for i, bLine in ipairs(self.Borders) do
                bLine.From = newFrom + offsets[i]
                bLine.To = newTo + offsets[i]
            end
        end,

        UpdateProperties = function(self, props)
            if props.Color then
                self.Main.Color = props.Color
            end
            if props.Transparency then
                self.Main.Transparency = props.Transparency
                for _, bLine in ipairs(self.Borders) do
                    bLine.Transparency = props.Transparency
                end
            end
            if props.Visible ~= nil then
                self.Main.Visible = props.Visible
                for _, bLine in ipairs(self.Borders) do
                    bLine.Visible = props.Visible
                end
            end
        end,

        DeleteLine = function(self)
            self.Main:Remove()
            for _, bLine in ipairs(self.Borders) do
                bLine:Remove()
            end
        end
    }

    return lineObject
end

return DrawApi
